\hypertarget{namespacego__to__point}{}\doxysection{go\+\_\+to\+\_\+point Namespace Reference}
\label{namespacego__to__point}\index{go\_to\_point@{go\_to\_point}}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
def \mbox{\hyperlink{namespacego__to__point_a1ace7fa0371345e7a7501959f0e004e0}{go\+\_\+to\+\_\+point\+\_\+switch}} (req)
\item 
def \mbox{\hyperlink{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}{clbk\+\_\+odom}} (msg)
\item 
def \mbox{\hyperlink{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}{change\+\_\+state}} (state)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}{normalize\+\_\+angle}} (angle)
\item 
def \mbox{\hyperlink{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}{fix\+\_\+yaw}} (des\+\_\+pos)
\item 
def \mbox{\hyperlink{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}{go\+\_\+straight\+\_\+ahead}} (des\+\_\+pos)
\item 
def \mbox{\hyperlink{namespacego__to__point_a9bb3c726bc638ed49519d74277fce5a4}{done}} (des\+\_\+pos)
\item 
def \mbox{\hyperlink{namespacego__to__point_aa8c9e45da31814a8cd403b354dbd6ba4}{go\+\_\+to\+\_\+point}} (req)
\item 
def \mbox{\hyperlink{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}{main}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{namespacego__to__point_a066c7e6058980504669f48713eacff1a}{active\+\_\+}} = False
\item 
\mbox{\hyperlink{namespacego__to__point_a500520cbcd448f46bf7447a431f61d53}{position\+\_\+}} = Point()
\item 
int \mbox{\hyperlink{namespacego__to__point_ae444f19eb2019982432760ace036ce03}{yaw\+\_\+}} = 0
\item 
int \mbox{\hyperlink{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}{state\+\_\+}} = 0
\item 
\mbox{\hyperlink{namespacego__to__point_a03b48b610dbd224a38eb226c1b2ba23d}{desired\+\_\+position\+\_\+}} = Point()
\item 
\mbox{\hyperlink{namespacego__to__point_a328c9a3bb9322f150f2e67371cd73306}{x}}
\item 
\mbox{\hyperlink{namespacego__to__point_ac372e1a492f9aa66d29f365cc1c57d8c}{y}}
\item 
\mbox{\hyperlink{namespacego__to__point_a2fd68a76b8583598a4bceccdeae5d73b}{z}}
\item 
int \mbox{\hyperlink{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}{yaw\+\_\+precision\+\_\+}} = math.\+pi / 9
\item 
int \mbox{\hyperlink{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}{yaw\+\_\+precision\+\_\+2\+\_\+}} = math.\+pi / 90
\item 
float \mbox{\hyperlink{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}{dist\+\_\+precision\+\_\+}} = 0.\+3
\item 
float \mbox{\hyperlink{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}{kp\+\_\+a}} = 3.\+0
\item 
float \mbox{\hyperlink{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}{kp\+\_\+d}} = 0.\+2
\item 
float \mbox{\hyperlink{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}{ub\+\_\+a}} = 0.\+6
\item 
float \mbox{\hyperlink{namespacego__to__point_afecad4058844db05d8321199e25b4498}{lb\+\_\+a}} = -\/0.\+5
\item 
float \mbox{\hyperlink{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}{ub\+\_\+d}} = 0.\+6
\item 
\mbox{\hyperlink{namespacego__to__point_a3caa5a6c1e8d7b4854f62a9e35dfad6f}{pub}} = None
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}.. module:: go_to_point
:platform: Unix
:synopsis: Python module for piloting the robot to the target

.. moduleauthor:: Iacopo Pietrasanta iacopo.pietrasanta@gmail.com

ROS node for driving a robot to a specific point within a simulated
environment, given a certain orientation.

Subscribes to:
/odom topic where the simulator publishes the robot position

Publishes to:
/cmd_vel the desired robot position

Service :
/go_to_point to start the robot motion.\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}\label{namespacego__to__point_a31ee48e5cae36821049b572a96b7c8be}} 
\index{go\_to\_point@{go\_to\_point}!change\_state@{change\_state}}
\index{change\_state@{change\_state}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{change\_state()}{change\_state()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+change\+\_\+state (\begin{DoxyParamCaption}\item[{}]{state }\end{DoxyParamCaption})}

\begin{DoxyVerb}Description of the change_state function:

This value retrieve and assigns the current state to the
global one (*state_*)

Args:
    state(int): the state of the robot

Returns:
    None
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}\label{namespacego__to__point_a36304a9f313b0579f7fc69fa01695524}} 
\index{go\_to\_point@{go\_to\_point}!clbk\_odom@{clbk\_odom}}
\index{clbk\_odom@{clbk\_odom}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{clbk\_odom()}{clbk\_odom()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+clbk\+\_\+odom (\begin{DoxyParamCaption}\item[{}]{msg }\end{DoxyParamCaption})}

\begin{DoxyVerb}Description of the callback:

This function retrieves the current robot position for saving
it within the *position_* global variable and is responsible for
transforming the orientation from quaternion angles to Euler ones

Args:
    msg(Twist): data retrieved by */cmd_vel* topic

Returns:
    None\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a9bb3c726bc638ed49519d74277fce5a4}\label{namespacego__to__point_a9bb3c726bc638ed49519d74277fce5a4}} 
\index{go\_to\_point@{go\_to\_point}!done@{done}}
\index{done@{done}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{done()}{done()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+done (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}

\begin{DoxyVerb}Description of done function:
    
This function marks the goal target as succeeded, once all the
linear and angular velocities are set to zero  

Args :
    None

Returns :
    None\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}\label{namespacego__to__point_a9c3011a3065fcbefcc1c5ad8c9979669}} 
\index{go\_to\_point@{go\_to\_point}!fix\_yaw@{fix\_yaw}}
\index{fix\_yaw@{fix\_yaw}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{fix\_yaw()}{fix\_yaw()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+fix\+\_\+yaw (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}

\begin{DoxyVerb}Description of the fix_yaw function:

This function computes the robot orientation among x and y 
coordinates and sets the angular velocity needed for achieving
the desired robot position. 
    
Args:
    des_pos(Point):  the expected x and y coordinates
Returns:
    None
\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}\label{namespacego__to__point_ac8579665c0fbf665f734476554fac37d}} 
\index{go\_to\_point@{go\_to\_point}!go\_straight\_ahead@{go\_straight\_ahead}}
\index{go\_straight\_ahead@{go\_straight\_ahead}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_straight\_ahead()}{go\_straight\_ahead()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+straight\+\_\+ahead (\begin{DoxyParamCaption}\item[{}]{des\+\_\+pos }\end{DoxyParamCaption})}

\begin{DoxyVerb}Description of the go_straight_ahead function:

This function computes the robot orientation among x and y 
coordinates necessary to reach the x,y target point. Once the
linear velocities have been set, an angular velocity is defined
by means of an error. It is proportional to this latter and it 
allows a correction of the trajectory, by checking a treshold
over a distance
    
    
Args:
    des_pos(Point): the expected x and y coordinates
Returns:
    None\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_aa8c9e45da31814a8cd403b354dbd6ba4}\label{namespacego__to__point_aa8c9e45da31814a8cd403b354dbd6ba4}} 
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\index{go\_to\_point@{go\_to\_point}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_to\_point()}{go\_to\_point()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point (\begin{DoxyParamCaption}\item[{}]{req }\end{DoxyParamCaption})}

\begin{DoxyVerb}SERVICE IMPLEMENTATION OF /go_to_point
    
This function retrieves the ROS params from the ROS
parameter server. Secondly, it truggers a different 
robot behaviour, depending on the state's value 

Args :
    None

Returns :
    None\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_a1ace7fa0371345e7a7501959f0e004e0}\label{namespacego__to__point_a1ace7fa0371345e7a7501959f0e004e0}} 
\index{go\_to\_point@{go\_to\_point}!go\_to\_point\_switch@{go\_to\_point\_switch}}
\index{go\_to\_point\_switch@{go\_to\_point\_switch}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{go\_to\_point\_switch()}{go\_to\_point\_switch()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+go\+\_\+to\+\_\+point\+\_\+switch (\begin{DoxyParamCaption}\item[{}]{req }\end{DoxyParamCaption})}

\begin{DoxyVerb}SERVICE IMPLEMENTATION OF /go_to_point_switch

the service sets the value of the activity flag.

Args:
    req (std_srvs/SetBoolRequest):
        the activity value will be equal to the req.data passed to the
        service

Returns:
    (std_srvs/SetBoolResponse) success is always true\end{DoxyVerb}
 \mbox{\Hypertarget{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}\label{namespacego__to__point_ab92bd6db1ec323a4d795ed6cb40aebe1}} 
\index{go\_to\_point@{go\_to\_point}!main@{main}}
\index{main@{main}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{main()}{main()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+main (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

\mbox{\Hypertarget{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}\label{namespacego__to__point_ac688bb56fa84763ea2edefc30cae032a}} 
\index{go\_to\_point@{go\_to\_point}!normalize\_angle@{normalize\_angle}}
\index{normalize\_angle@{normalize\_angle}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{normalize\_angle()}{normalize\_angle()}}
{\footnotesize\ttfamily def go\+\_\+to\+\_\+point.\+normalize\+\_\+angle (\begin{DoxyParamCaption}\item[{}]{angle }\end{DoxyParamCaption})}

\begin{DoxyVerb}Function for normalizing the angle between -pi and pi.

Args:
    angle(Float): the input angle

Returns:
    angle(Float): the normalized angle.
\end{DoxyVerb}
 

\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{namespacego__to__point_a066c7e6058980504669f48713eacff1a}\label{namespacego__to__point_a066c7e6058980504669f48713eacff1a}} 
\index{go\_to\_point@{go\_to\_point}!active\_@{active\_}}
\index{active\_@{active\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{active\_}{active\_}}
{\footnotesize\ttfamily bool go\+\_\+to\+\_\+point.\+active\+\_\+ = False}

\mbox{\Hypertarget{namespacego__to__point_a03b48b610dbd224a38eb226c1b2ba23d}\label{namespacego__to__point_a03b48b610dbd224a38eb226c1b2ba23d}} 
\index{go\_to\_point@{go\_to\_point}!desired\_position\_@{desired\_position\_}}
\index{desired\_position\_@{desired\_position\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{desired\_position\_}{desired\_position\_}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+desired\+\_\+position\+\_\+ = Point()}

\mbox{\Hypertarget{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}\label{namespacego__to__point_a6a1e4eb20ebd4fce0fc56b0ebfd7a8d5}} 
\index{go\_to\_point@{go\_to\_point}!dist\_precision\_@{dist\_precision\_}}
\index{dist\_precision\_@{dist\_precision\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{dist\_precision\_}{dist\_precision\_}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+dist\+\_\+precision\+\_\+ = 0.\+3}

\mbox{\Hypertarget{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}\label{namespacego__to__point_a524106fc7667a0927951dfd89d52d6a7}} 
\index{go\_to\_point@{go\_to\_point}!kp\_a@{kp\_a}}
\index{kp\_a@{kp\_a}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{kp\_a}{kp\_a}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+kp\+\_\+a = 3.\+0}

\mbox{\Hypertarget{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}\label{namespacego__to__point_a7bc498652ca66932e704e738b50c297b}} 
\index{go\_to\_point@{go\_to\_point}!kp\_d@{kp\_d}}
\index{kp\_d@{kp\_d}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{kp\_d}{kp\_d}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+kp\+\_\+d = 0.\+2}

\mbox{\Hypertarget{namespacego__to__point_afecad4058844db05d8321199e25b4498}\label{namespacego__to__point_afecad4058844db05d8321199e25b4498}} 
\index{go\_to\_point@{go\_to\_point}!lb\_a@{lb\_a}}
\index{lb\_a@{lb\_a}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{lb\_a}{lb\_a}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+lb\+\_\+a = -\/0.\+5}

\mbox{\Hypertarget{namespacego__to__point_a500520cbcd448f46bf7447a431f61d53}\label{namespacego__to__point_a500520cbcd448f46bf7447a431f61d53}} 
\index{go\_to\_point@{go\_to\_point}!position\_@{position\_}}
\index{position\_@{position\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{position\_}{position\_}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+position\+\_\+ = Point()}

\mbox{\Hypertarget{namespacego__to__point_a3caa5a6c1e8d7b4854f62a9e35dfad6f}\label{namespacego__to__point_a3caa5a6c1e8d7b4854f62a9e35dfad6f}} 
\index{go\_to\_point@{go\_to\_point}!pub@{pub}}
\index{pub@{pub}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{pub}{pub}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+pub = None}

\mbox{\Hypertarget{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}\label{namespacego__to__point_aa2d0ef255bcf5d5faf9ca2764730fb17}} 
\index{go\_to\_point@{go\_to\_point}!state\_@{state\_}}
\index{state\_@{state\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{state\_}{state\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+state\+\_\+ = 0}

\mbox{\Hypertarget{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}\label{namespacego__to__point_acb4e14986fafe5cb73bb8ad0c178869d}} 
\index{go\_to\_point@{go\_to\_point}!ub\_a@{ub\_a}}
\index{ub\_a@{ub\_a}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{ub\_a}{ub\_a}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+ub\+\_\+a = 0.\+6}

\mbox{\Hypertarget{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}\label{namespacego__to__point_a16c473b9e717200c483d18e66b48152a}} 
\index{go\_to\_point@{go\_to\_point}!ub\_d@{ub\_d}}
\index{ub\_d@{ub\_d}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{ub\_d}{ub\_d}}
{\footnotesize\ttfamily float go\+\_\+to\+\_\+point.\+ub\+\_\+d = 0.\+6}

\mbox{\Hypertarget{namespacego__to__point_a328c9a3bb9322f150f2e67371cd73306}\label{namespacego__to__point_a328c9a3bb9322f150f2e67371cd73306}} 
\index{go\_to\_point@{go\_to\_point}!x@{x}}
\index{x@{x}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{x}{x}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+x}

\mbox{\Hypertarget{namespacego__to__point_ac372e1a492f9aa66d29f365cc1c57d8c}\label{namespacego__to__point_ac372e1a492f9aa66d29f365cc1c57d8c}} 
\index{go\_to\_point@{go\_to\_point}!y@{y}}
\index{y@{y}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{y}{y}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+y}

\mbox{\Hypertarget{namespacego__to__point_ae444f19eb2019982432760ace036ce03}\label{namespacego__to__point_ae444f19eb2019982432760ace036ce03}} 
\index{go\_to\_point@{go\_to\_point}!yaw\_@{yaw\_}}
\index{yaw\_@{yaw\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{yaw\_}{yaw\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+yaw\+\_\+ = 0}

\mbox{\Hypertarget{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}\label{namespacego__to__point_a67f95834f0959feb3facd17bc7fa2b38}} 
\index{go\_to\_point@{go\_to\_point}!yaw\_precision\_@{yaw\_precision\_}}
\index{yaw\_precision\_@{yaw\_precision\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{yaw\_precision\_}{yaw\_precision\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+ = math.\+pi / 9}

\mbox{\Hypertarget{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}\label{namespacego__to__point_af74ccf49164d0478ca8343e2031d5813}} 
\index{go\_to\_point@{go\_to\_point}!yaw\_precision\_2\_@{yaw\_precision\_2\_}}
\index{yaw\_precision\_2\_@{yaw\_precision\_2\_}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{yaw\_precision\_2\_}{yaw\_precision\_2\_}}
{\footnotesize\ttfamily int go\+\_\+to\+\_\+point.\+yaw\+\_\+precision\+\_\+2\+\_\+ = math.\+pi / 90}

\mbox{\Hypertarget{namespacego__to__point_a2fd68a76b8583598a4bceccdeae5d73b}\label{namespacego__to__point_a2fd68a76b8583598a4bceccdeae5d73b}} 
\index{go\_to\_point@{go\_to\_point}!z@{z}}
\index{z@{z}!go\_to\_point@{go\_to\_point}}
\doxysubsubsection{\texorpdfstring{z}{z}}
{\footnotesize\ttfamily go\+\_\+to\+\_\+point.\+z}

